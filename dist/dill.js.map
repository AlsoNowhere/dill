{"version":3,"file":"dill.js","sources":["../src/common/logger.service.js","../src/classes/ComponentPrototype.class.js","../src/module/set-component.js","../src/common/lock-object.js","../src/common/for-each.js","../src/classes/Module.class.js","../src/classes/Render.class.js","../src/main/renders.js","../src/common/string-evaluator.js","../src/common/debracer.js","../src/render/render-attributes.js","../src/common/recurse-component.js","../src/common/create-data.js","../src/common/surrounded-by.js","../src/classes/DillComponent.class.js","../src/classes/DillTemplate.class.js","../src/classes/AttributeTemplate.class.js","../src/dill-attributes/dill-template.js","../src/dill-attributes/dill-extends.js","../src/dill-attributes/dill-if.js","../src/dill-attributes/dill-for.js","../src/template/create-template.js","../src/render/render-if.js","../src/common/recycle-data.js","../src/render/render-for.js","../src/classes/Options.class.js","../src/render/render-target.js","../src/main/change.js","../src/main/render.js","../src/main/reset.js","../src/main.js"],"sourcesContent":["\r\nexport var logger = {\r\n    error: function(message){\r\n        console.log(\r\n            \"%c \" + message\r\n            + \"%c \" + \"- Generated from logger service\",\r\n            \"color:red;\",\r\n            \"color:grey;\"\r\n        );\r\n    },\r\n    warn: function(message) {\r\n        console.warn(message);\r\n    }\r\n}\r\n","import { logger } from \"../common/logger.service\";\r\n\r\nexport var ComponentPrototype = function(name,template,module){\r\n    if (typeof name !== \"string\") {\r\n        logger.error(\"You must pass a string as the name of the component.\");\r\n        throw new Error(\"You must pass a string as the name of the component.\");\r\n    }\r\n    \r\n    if (name.indexOf(\"\\n\") > -1) {\r\n        logger.error(\"You can not put line breaks in the component name.\");\r\n        throw new Error(\"You can not put line breaks in the component name.\");\r\n    }\r\n\r\n    if (typeof template !== \"string\") {\r\n        logger.error(\"You must pass a string as the template of the component.\");\r\n        throw new Error(\"You must pass a string as the template of the component.\");\r\n    }\r\n\r\n    if (!!module && !(module instanceof Module)) {\r\n        logger.error(\"You must pass an instance of Module for the module, or leave undefined.\");\r\n        throw new Error(\"You must pass an instance of Module for the module, or leave undefined.\");\r\n    }\r\n\r\n    this.name = name;\r\n    this.template = template;\r\n}\r\n","\r\nimport { logger } from \"../common/logger.service\";\r\nimport { ComponentPrototype } from \"../classes/ComponentPrototype.class\";\r\n\r\nexport var setComponent = function(component){\r\n\r\n\tif (!(component instanceof Function)) {\r\n\t\tlogger.error(\"You must pass a constructor function to the .setComponent method on a dill module.\");\r\n\t\tthrow new Error(\"You must pass a constructor function to the .setComponent method on a dill module.\");\r\n\t}\r\n\r\n\tif (!(component.prototype instanceof ComponentPrototype)) {\r\n\t\tlogger.error(\"You must use an instance of ComponentPrototype for the constructor function prototype.\");\r\n\t\tthrow new Error(\"You must use an instance of ComponentPrototype for the constructor function prototype.\");\r\n\t}\r\n\r\n\tthis.components[component.prototype.name] = component;\r\n};\r\n","\r\nexport var lockObject = function(obj){\r\n\tObject.seal(obj);\r\n\t!!Object.freeze && Object.freeze(obj);\r\n\treturn obj;\r\n}\r\n","\r\nexport var forEach = function(scope, callback){\r\n\tvar i = 0;\r\n\tvar result;\r\n\twhile (i < scope.length) {\r\n\t\tresult = callback(scope[i], i);\r\n\t\tif (result === false) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tif (typeof result === \"number\") {\r\n\t\t\ti += result;\r\n\t\t}\r\n\t\ti++;\r\n\t}\r\n}\r\n\r\nexport var reverseForEach = function(scope, callback){\r\n\tvar i = scope.length - 1;\r\n\tvar result;\r\n\twhile (i >= 0) {\r\n\t\tresult = callback(scope[i], i);\r\n\t\tif (result === false) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tif (typeof result === \"number\") {\r\n\t\t\ti -= result;\r\n\t\t}\r\n\t\ti--;\r\n\t}\r\n}\r\n","\r\nimport { setComponent } from \"../module/set-component\";\r\nimport { lockObject } from \"../common/lock-object\";\r\nimport { forEach } from \"../common/for-each\";\r\nimport { logger } from \"../common/logger.service\";\r\n\r\nexport var Module = function(){\r\n\tvar Module = function(name, modules){\r\n\t\tvar currentModule = this;\r\n\r\n\t\tif (modules === undefined) {\r\n\t\t\tmodules = [];\r\n\t\t}\r\n\r\n\t\tmodules = modules.filter(function(x){\r\n\t\t\treturn x instanceof Module;\r\n\t\t});\r\n\r\n\t\tthis.name = name;\r\n\t\tthis.components = {};\r\n\t\tthis.services = {};\r\n\r\n\t\tforEach(modules,function(eachModule){\r\n\t\t\tif (!(eachModule instanceof Module)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tObject.keys(eachModule.components).forEach(function(key){\r\n\t\t\t\tvar component = eachModule.components[key];\r\n\t\t\t\tif (component.isIsolated) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tcurrentModule.components[key] = component;\r\n\t\t\t});\r\n\t\t});\r\n\t\tlockObject(this);\r\n\t};\r\n\tModule.prototype = {\r\n\t\tsetComponent: setComponent\r\n\t};\r\n\treturn Module;\r\n}();\r\n\r\nexport var dillModule = function(name, modules){\r\n\r\n\tif (typeof name !== \"string\") {\r\n        logger.error(\"You must pass a string as the name of the module.\");\r\n        throw new Error(\"You must pass a string as the name of the module.\");\r\n\t}\r\n\t\r\n\tif (!!modules && !(modules instanceof Array)) {\r\n\t\tlogger.error(\"You must pass an Array or undefined for the modules argument of the module.\");\r\n\t\tthrow new Error(\"You must pass an Array or undefined for the modules argument of the module.\");\r\n\t}\r\n\r\n\treturn new Module(name, modules);\r\n}\r\n","\r\nexport var Render = function(\r\n    targetElement,\r\n    dillTemplate\r\n){\r\n    this.targetElement = targetElement;\r\n    this.dillTemplate = dillTemplate;\r\n}\r\n","\r\nexport var renders = [];\r\n","\r\nexport var strEvaluator = function(str, data){\r\n\tvar value = data[str];\r\n\tif (value === undefined) {\r\n\t\tvalue = \"\";\r\n\t}\r\n\tvar isStringFormat = str.substr(0, 1) === \"'\" && str.substr(str.length-1, 1) === \"'\";\r\n\tif (isStringFormat) {\r\n\t\treturn str.substring(1, str.length-1);\r\n\t}\r\n\tif (typeof value === \"function\") {\r\n\t\treturn value.apply(data);\r\n\t}\r\n\treturn value;\r\n}\r\n","\r\nimport { forEach } from \"./for-each\";\r\nimport { strEvaluator } from \"./string-evaluator\";\r\n\r\nexport var debracer = function(str, data){\r\n\tvar strParts = str.split(\"{{\");\r\n\tforEach(strParts, function(each, index){\r\n\t\tvar end = each.indexOf(\"}}\");\r\n\t\tstrParts[index] = end === -1\r\n\t\t\t? each\r\n\t\t\t: strEvaluator(each.substring(0, end), data) + each.substring(end + 2, each.length);\r\n\t});\r\n\treturn strParts.join(\"\");\r\n}\r\n","\r\nimport { forEach } from \"../common/for-each\";\r\nimport { debracer } from \"../common/debracer\";\r\n\r\nvar elementProperties = [\"value\", \"checked\"];\r\n\r\nexport var renderAttributes = function(target, template){\r\n\ttemplate.attributes && forEach(template.attributes, function(attribute){\r\n\t\tvar type = attribute.type;\r\n\t\tvar name = attribute.parsed || attribute.name;\r\n\t\tvar value = debracer(attribute.value, template.data);\r\n\t\tvar output;\r\n\t\tvar attributeIsDefined = !!target.attributes[name];\r\n\r\n\t\tif (type === \"bind\") {\r\n\t\t\toutput = typeof template.data[value] === \"function\"\r\n\t\t\t\t? template.data[value].apply(template.data)\r\n\t\t\t\t: template.data[value];\r\n\t\t\tif (elementProperties.indexOf(name) > -1) {\r\n\t\t\t\tif (target[name] === (typeof output === \"number\" ? output.toString() : output)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.nodeName === \"SELECT\") {\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\ttarget[name] = output;\r\n\t\t\t\t\t},0);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttarget[name] = output;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (attributeIsDefined) {\r\n\t\t\t\tif (target.attributes[name].nodeValue === output) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (output === undefined || output === false) {\r\n\t\t\t\t\treturn target.removeAttribute(name);\r\n\t\t\t\t}\r\n\t\t\t\ttarget.attributes[name].nodeValue = output;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (output === undefined || output === false) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttarget.setAttribute(name, output);\r\n\t\t}\r\n\t\t// else if (type === \"literal\") {\r\n\t\t// \ttarget.setAttribute(name, value);\r\n\t\t// }\r\n\t\telse if (type === \"default\") {\r\n\t\t\tif (attributeIsDefined) {\r\n\t\t\t\tif (target.attributes[name].nodeValue === value) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\ttarget.attributes[name].nodeValue = value;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttarget.setAttribute(name, value);\r\n\t\t}\r\n\t});\r\n}\r\n","\r\nimport { forEach } from \"./for-each\";\r\n\r\nexport var recurseComponent = function(template,type){\r\n\tif (template.component && template.data.hasOwnProperty(type) && typeof template.data[type] === \"function\") {\r\n\t\ttemplate.data[type]();\r\n\t}\r\n\ttemplate.children && forEach(template.children,function(x){\r\n\t\trecurseComponent(x,type);\r\n\t});\r\n}\r\n","\r\n// Create a new DillDynamicObject and use it to extend the model.\r\n\r\nexport var createData = function(data, parentData, isIsolated){\r\n\r\n// Define a new construcutor function that will only be accessible once.\r\n// Something to consider is that a constructor function is made\r\n// (and it has to be named for two reasons, to get the name of the instance to aid debugging and to be able to add a prototype)\r\n// then it is immediately called onjly once.\r\n// Every model object has the same name which means a developer can be tricked into testing for instanceof for a constructor function with the same name but it is not the same one.\r\n\tvar DillDynamicObject = function(){\r\n\r\n// The syntax for in checks an objects properties and then looks up the prototype chain unless the object on the chain is an instance of Object.\r\n// This is intentionally used here to provide a powerful way to create a new model object.\r\n// This best use case for this is for libraries.\r\n\t\tfor (var item in data) {\r\n\r\n// Add a closure around the property definition because JavaScript ES5 does not have block scope around the for loop but it does have function scope.\r\n\t\t\t(function(){\r\n\r\n// Define a new variable that is private (in the sense that it can only be seen inside this function and the developer cannot get their mits on it).\r\n\t\t\t\tvar _value = data[item];\r\n\r\n// Using a getter setter pattern means that the prototype chain in JavaScript behaves like variables in functional scopes (which is not the default way).\r\n\t\t\t\tObject.defineProperty(this, item, {\r\n\t\t\t\t\tget: function(){\r\n\t\t\t\t\t\treturn _value;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function(value){\r\n\t\t\t\t\t\t_value = value;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}.apply(this));\r\n\t\t}\r\n\r\n// You can isolate a model to prevent look ups further up the prototype chain. This means that a developer can write a component and it can be self contained.\r\n// This means that libraries can be written safely.\r\n\t\tif (parentData !== null && !isIsolated) {\r\n\r\n// Expose the parent on the model for manual lookups up the chain. This does not need to be exposed for Dill to work but good developers know that sometimes you just need a good hammer.\r\n\t\t\tthis._parent = parentData;\r\n\t\t}\r\n\t};\r\n\tif (parentData !== null && !isIsolated) {\r\n\r\n// Add the parent data on to the model prototype. This means the model is being extended.\r\n// This pattern of implied lookups framework feature has a very slippery slope in the sense of confusing a developer. Dill has to be written carefully to prevent confusion.\r\n// Doing this pattern means that the file size overhead is greatly reduced and the speed of development is increased.\r\n// The lookups are confusing but are alos less confusing in the sense that they are less verbose.\r\n\t\tDillDynamicObject.prototype = parentData;\r\n\t}\r\n\treturn new DillDynamicObject();\r\n}\r\n","\r\nexport var isSurroundedBy = function(name, start, end){\r\n\tif (end === undefined) {\r\n\t\tend = start;\r\n\t}\r\n\treturn name.substr(0,start.length) === start\r\n\t\t&& name.substr(name.length - end.length, name.length) === end;\r\n}\r\n","\r\nexport const DillComponent = function(component){\r\n    const proto = component.prototype;\r\n\r\n    this.name = proto.name;\r\n    this.template = proto.template;\r\n    if (!!proto.module) {\r\n        this._module = proto.module;\r\n    }\r\n\r\n    component.prototype = {};\r\n\r\n    this.baseData = new component();\r\n}\r\n\r\n","\r\nimport { lockObject } from \"../common/lock-object\";\r\nimport { createData } from \"../common/create-data\";\r\nimport { forEach } from \"../common/for-each\";\r\nimport { isSurroundedBy } from \"../common/surrounded-by\";\r\nimport { DillComponent } from \"./DillComponent.class\";\r\n\r\nexport var DillTemplate = function(\r\n\ttargetElement,\r\n\tinitialDillDataModel,\r\n\tdillModule,\r\n\ttemplateParent\r\n){\r\n\tthis.name = targetElement.nodeName;\r\n\tthis.module = dillModule;\r\n\r\n\tif (!!templateParent) {\r\n\t\tthis.templateParent = templateParent;\r\n\t}\r\n\r\n\tif (this.name === \"#text\") {\r\n\t\tthis.value = targetElement.nodeValue;\r\n\t\tthis.data = initialDillDataModel;\r\n\t\treturn lockObject(this);\r\n\t}\r\n\r\n\tthis.children = [];\r\n\r\n\tvar component = dillModule.components[this.name.toLowerCase()],\r\n\t\tcomponentIsValid = true;\r\n\r\n\tif (!!component) {\r\n\t\tcomponent = new DillComponent(component);\r\n\t}\r\n\r\n\t// console.log(\"Component: \", component);\r\n\r\n\t// var checkParentTemplates = function(parent,condition){\r\n\t// \tif (!parent.templateParent) {\r\n\t// \t\treturn;\r\n\t// \t}\r\n\t// \tif (parent.component === condition) {\r\n\t// \t\tcomponentIsValid = true;\r\n\t// \t\treturn;\r\n\t// \t}\r\n\t// \tcheckParentTemplates(parent.templateParent,condition);\r\n\t// }\r\n\r\n\t// if (!!component && !!component.abstractConditions) {\r\n\t// \tcomponentIsValid = false;\r\n\t// \tforEach(component.abstractConditions,function(condition){\r\n\t// \t\tif (componentIsValid) {\r\n\t// \t\t\treturn false;\r\n\t// \t\t}\r\n\t// \t\tcheckParentTemplates(this,condition);\r\n\t// \t}.bind(this));\r\n\t// }\r\n\r\n\tif (component !== undefined && componentIsValid) {\r\n\t\tthis.component = component;\r\n\t\tif (targetElement.hasAttribute(\"dill-for\")) {\r\n\t\t\tthis.data = initialDillDataModel;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.data = createData(\r\n\t\t\tcomponent.baseData,\r\n\t\t\tinitialDillDataModel,\r\n\t\t\t!!targetElement.hasAttribute(\"dill-isolate\")\r\n\t\t);\r\n\r\n\t\ttargetElement.removeAttribute(\"dill-isolate\");\r\n\r\n\t\tforEach(targetElement.attributes,function(attribute){\r\n\t\t\tvar name = attribute.nodeName,\r\n\t\t\t\tvalue = attribute.nodeValue,\r\n\t\t\t\tprop;\r\n\t\t\tif (isSurroundedBy(name,\"[\",\"]\")) {\r\n\t\t\t\tprop = name.substring(1,name.length-1);\r\n\t\t\t\tObject.defineProperty(this.data,prop,{\r\n\t\t\t\t\tget: function(){\r\n\t\t\t\t\t\treturn initialDillDataModel[value];\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function(setValue){\r\n\t\t\t\t\t\tinitialDillDataModel[value] = setValue;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.data[name] = isSurroundedBy(value,\"'\")\r\n\t\t\t\t\t? value.substring(1,value.length-1)\r\n\t\t\t\t\t: initialDillDataModel[value];\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tthis.attributes = [];\r\n\tthis.data = initialDillDataModel;\r\n}\r\n","\r\nimport { lockObject } from \"../common/lock-object\";\r\nimport { isSurroundedBy } from \"../common/surrounded-by\";\r\nimport { logger } from \"../common/logger.service\";\r\n\r\nvar isBinding = function(str){\r\n\treturn str.substr(0, 1) === \":\";\r\n}\r\n\r\nvar isEvent = function(str){\r\n\treturn str.substr(str.length - 1, 1) === \":\";\r\n}\r\n\r\nvar attributeType = function(attribute){\r\n\tvar name = attribute.nodeName;\r\n\tif (isSurroundedBy(name, \"[\", \"]\") || isBinding(name)) {\r\n\t\treturn \"bind\";\r\n\t}\r\n\tif (isSurroundedBy(name, \"(\", \")\") || isEvent(name)) {\r\n\t\treturn \"event\";\r\n\t}\r\n\treturn \"default\";\r\n};\r\n\r\nexport var AttributeTemplate = function(\r\n\ttarget,\r\n\ttemplate,\r\n\tattribute\r\n){\r\n\r\n\tthis.name = attribute.nodeName;\r\n\tvar value = attribute.nodeValue,\r\n\t\tparsed;\r\n\r\n\tif (this.name.substr(0, 1) === \"#\") {\r\n// This is a set to and not an Object.defineProperty because it is up to the user to define a property where they deem is appropriate.\r\n// If the user defines the property it will be a getter setter, if they do not it will be a static property and will stay at the scope level.\r\n\t\ttemplate.data[this.name.substring(1)] = target;\r\n\t\tthis.type = \"hashReference\";\r\n\t\treturn;\r\n\t}\r\n\r\n\tparsed = isBinding(this.name)\r\n\t\t? this.name.substring(1, this.name.length)\r\n\t\t: isEvent(this.name)\r\n\t\t\t? this.name.substring(0, this.name.length - 1)\r\n\t\t\t: this.name.substring(1,this.name.length-1);\r\n\r\n\tthis.type = attributeType(attribute);\r\n\tthis.value = this.type === \"literal\"\r\n\t\t? value.substring(1,value.length-1)\r\n\t\t: value;\r\n\r\n\tif (this.type !== \"default\") {\r\n\t\tthis.parsed = parsed;\r\n\t}\r\n\r\n\tvalue = this.value;\r\n\r\n\tif (this.type === \"event\") {\r\n\r\n\t\tvar eventProperty = template.data[value];\r\n\r\n\t\tif (!(eventProperty instanceof Function)) {\r\n\t\t\tlogger.warn(\"Event \" + this.parsed + \" property is not a function, nothing will be run.\");\r\n\t\t}\r\n\r\n\t\ttarget.addEventListener(this.parsed, function(event){\r\n\t\t\tif (eventProperty === undefined) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar output = eventProperty.apply(template.data, [event, this]);\r\n\t\t\toutput !== false && dill.change();\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\r\n\tlockObject(this);\r\n}\r\n","\r\nexport var dillTemplate = function(target, template){\r\n\tvar value = target.attributes[\"dill-template\"].nodeValue;\r\n\tvar data = template.data[value];\r\n\ttarget.innerHTML = typeof data === \"function\"\r\n\t\t? data.apply(template.data)\r\n\t\t: data;\r\n\ttarget.removeAttribute(\"dill-template\");\r\n}\r\n","\r\nimport { isSurroundedBy } from \"../common/surrounded-by\";\r\n\r\nexport var dillExtends = function(target, template){\r\n\tvar values = template.data[target.attributes[\"dill-extends\"].nodeValue];\r\n\ttarget.removeAttribute(\"dill-extends\");\r\n\tif (typeof values !== \"object\") {\r\n\t\treturn;\r\n\t}\r\n\tObject.keys(values).forEach(function(key){\r\n\t\tvar newKey = key;\r\n\t\tif (isSurroundedBy(key, \"[\", \"]\")) {\r\n\t\t\tnewKey = \":\" + key.substring(1, key.length - 1);\r\n\t\t}\r\n\t\tif (isSurroundedBy(key, \"(\", \")\")) {\r\n\t\t\tnewKey = key.substring(1, key.length - 1) + \":\";\r\n\t\t}\r\n\t\ttarget.setAttribute(newKey, values[key]);\r\n\t});\r\n}\r\n","\r\nexport var dillIf = function(target, template){\r\n\tvar value = target.attributes[\"dill-if\"].nodeValue;\r\n\tvar invert = value.substr(0, 1) === \"!\";\r\n\tif (invert) {\r\n\t\tvalue = value.substring(1, value.length);\r\n\t}\r\n\tvar dataValue = typeof template.data[value] === \"function\"\r\n\t\t? template.data[value]()\r\n\t\t: template.data[value];\r\n\tif (invert) {\r\n\t\tdataValue = !dataValue;\r\n\t}\r\n\ttemplate.if = {\r\n\t\tparent: target.parentNode,\r\n\t\tfirst: dataValue,\r\n\t\tinitial: true,\r\n\t\tvalue: value,\r\n\t\tinvert: invert,\r\n\t\ttarget: target\r\n\t};\r\n\ttarget.removeAttribute(\"dill-if\");\r\n\treturn dataValue;\r\n}\r\n","\r\nexport var dillFor = function(target, template){\r\n\tvar value = target.attributes[\"dill-for\"].nodeValue;\r\n\ttemplate.for = {\r\n\t\tparent: target.parentNode,\r\n\t\tinitial: [null],\r\n\t\ttemplates: [null],\r\n\t\tvalue: value,\r\n\t\tfirst: true\r\n\t};\r\n\ttarget.removeAttribute(\"dill-for\");\r\n\ttemplate.for.clone = target.cloneNode(true);\r\n\treturn;\r\n}\r\n","\r\nimport { DillTemplate } from \"../classes/DillTemplate.class\";\r\nimport { AttributeTemplate } from \"../classes/AttributeTemplate.class\";\r\nimport { forEach, reverseForEach } from \"../common/for-each\";\r\nimport { dillTemplate } from \"../dill-attributes/dill-template\";\r\nimport { dillExtends } from \"../dill-attributes/dill-extends\";\r\nimport { dillIf } from \"../dill-attributes/dill-if\";\r\nimport { dillFor } from \"../dill-attributes/dill-for\";\r\nimport { logger } from \"../common/logger.service\";\r\n\r\nexport var createDillTemplate = function(\r\n\ttargetElement,\r\n\tinitialDillDataModel,\r\n\tdillModule,\r\n\ttemplateParent\r\n){\r\n\tvar newDillTemplate = new DillTemplate(\r\n\t\ttargetElement,\r\n\t\tinitialDillDataModel,\r\n\t\tdillModule,\r\n\t\ttemplateParent\r\n\t);\r\n\r\n\tvar dillDataModel = newDillTemplate.data;\r\n\r\n\tif (newDillTemplate.name === \"SCRIPT\" || (targetElement.hasAttribute instanceof Function && targetElement.hasAttribute(\"dill-ignore\"))) {\r\n\t\treturn newDillTemplate;\r\n\t}\r\n\r\n\tif (!!newDillTemplate.component && dillDataModel.hasOwnProperty(\"onprerender\")) {\r\n\t\tdillDataModel.onprerender();\r\n\t}\r\n\r\n\t!!targetElement.attributes\r\n\t\t&& targetElement.attributes[\"dill-extends\"]\r\n\t\t&& !!dillExtends\r\n\t\t&&  (function(){\r\n\t\t\tdillExtends(targetElement, newDillTemplate);\r\n\t\t}());\r\n\r\n\t!!targetElement.attributes\r\n\t\t&& targetElement.attributes[\"dill-if\"]\r\n\t\t&& !!dillIf\r\n\t\t&& dillIf(targetElement, newDillTemplate);\r\n\r\n\t!!targetElement.attributes\r\n\t\t&& reverseForEach(targetElement.attributes, function(attribute){\r\n\t\t\tif (!newDillTemplate.if && attribute.nodeName === \"dill-template\") {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!newDillTemplate.if && attribute.nodeName === \"dill-for\" && !!dillFor) {\r\n\t\t\t\treturn dillFor(targetElement, newDillTemplate);\r\n\t\t\t}\r\n\t\t\t!newDillTemplate.component\r\n\t\t\t\t&& newDillTemplate.attributes.push(\r\n\t\t\t\t\tnew AttributeTemplate(targetElement, newDillTemplate, attribute)\r\n\t\t\t\t);\r\n\t\t});\r\n\r\n\t!!newDillTemplate.attributes\r\n\t\t&& reverseForEach(newDillTemplate.attributes, function cleanUpAttributes(attribute, index){\r\n\t\t\tif (attribute.type === \"event\" || attribute.type === \"hashReference\") {\r\n\t\t\t\tnewDillTemplate.attributes.splice(index, 1);\r\n\t\t\t}\r\n\t\t\tif (attribute.type !== \"default\") {\r\n\t\t\t\ttargetElement.removeAttribute(attribute.name);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\tif (!!newDillTemplate.if && newDillTemplate.if.first === false) {\r\n\t\treturn newDillTemplate;\r\n\t}\r\n\r\n\ttargetElement.attributes\r\n\t\t&& targetElement.attributes[\"dill-template\"]\r\n\t\t&& !!dillTemplate\r\n\t\t&& dillTemplate(targetElement, newDillTemplate);\r\n\r\n\t!!newDillTemplate.component && (function(){\r\n\t\tvar recursiveComponentElements;\r\n\t\tif (!(newDillTemplate.for ? !newDillTemplate.for.first : !newDillTemplate.for)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdillDataModel._template = targetElement.innerHTML;\r\n\t\ttargetElement.innerHTML = newDillTemplate.component.template;\r\n\t\trecursiveComponentElements = targetElement.getElementsByTagName(newDillTemplate.component.name.toUpperCase());\r\n\t\tforEach(recursiveComponentElements,function(element){\r\n\t\t\tvar hasConditional = false,\r\n\t\t\t\tcurrentElement = element;\r\n\t\t\twhile (currentElement !== targetElement && !hasConditional) {\r\n\t\t\t\thasConditional = currentElement.hasAttribute(\"dill-if\");\r\n\t\t\t\tcurrentElement = currentElement.parentNode;\r\n\t\t\t}\r\n\t\t\tif (!hasConditional) {\r\n\t\t\t\tlogger.error(\"Recursive element detected without conditional catch. To avoid infinite loop render was stopped.\");\r\n\t\t\t\tthrow new Error(\"Recursive element detected without conditional catch. To avoid infinite loop render was stopped.\");\r\n\t\t\t}\r\n\t\t});\r\n\t}());\r\n\t\r\n\tif (\r\n\t\tnewDillTemplate.for\r\n\t\t\t? !newDillTemplate.for.first\r\n\t\t\t: !newDillTemplate.for\r\n\t) {\r\n\t\ttargetElement.childNodes\r\n\t\t\t&& forEach(targetElement.childNodes, function generateChildTemplates(child){\r\n\t\t\t\tnewDillTemplate.children.push(createDillTemplate(child, dillDataModel, dillModule, newDillTemplate));\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (newDillTemplate.for) {\r\n\t\tnewDillTemplate.for.first = false;\r\n\t}\r\n\r\n\tif (!!newDillTemplate.component && dillDataModel.hasOwnProperty(\"oninit\")) {\r\n\t\tdillDataModel.oninit();\r\n\t}\r\n\r\n\treturn newDillTemplate;\r\n};\r\n","\r\nimport { forEach } from \"../common/for-each\";\r\nimport { recurseComponent } from \"../common/recurse-component\";\r\nimport { createDillTemplate } from \"../template/create-template\";\r\nimport { dillTemplate } from \"../dill-attributes/dill-template\";\r\n\r\n// var recurseComponent = function(template,type){\r\n// \tif (template.component.hasOwnProperty(type) && typeof template.component[type] === \"function\") {\r\n// \t\ttemplate.component[type]();\r\n// \t}\r\n// \tforEach(template.childs,function(x){\r\n// \t\trecurseComponent(x,type);\r\n// \t});\r\n// }\r\n\r\nexport var renderIf = function(target, template){\r\n\tvar data = template.data;\r\n\tvar invert = template.if.invert;\r\n\tvar value = template.if.value;\r\n\tvar dataValue = typeof data[value] === \"function\"\r\n\t\t? data[value]()\r\n\t\t: data[value];\r\n\tvar oldState = template.if.initial;\r\n\tvar newState = invert\r\n\t\t? !dataValue\r\n\t\t: !!dataValue;\r\n\tvar parent = template.if.parent;\r\n\tif (oldState === false && newState === false) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (oldState === false && newState === true) {\r\n\t\ttarget === undefined\r\n\t\t\t? parent.appendChild(template.if.target)\r\n\t\t\t: parent.insertBefore(template.if.target,target);\r\n\t\tif (template.if.first === false) {\r\n\t\t\ttemplate.if.first = true;\r\n\t\t\t(function(){\r\n\t\t\t\t// var newTemplate = createTemplate(template.if.target, template.data, template.data._module, template);\r\n\t\t\t\t// template.attributes = newTemplate.attributes;\r\n\t\t\t\t// template.children = newTemplate.children;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\ttemplate.if.target.attributes\r\n\t\t\t\t\t&& template.if.target.attributes[\"dill-template\"]\r\n\t\t\t\t\t&& dillTemplate(template.if.target, template);\r\n\r\n\t\t\t\tif (template.component) {\r\n\t\t\t\t\t(function(){\r\n\t\t\t\t\t\tvar recursiveComponentElements;\r\n\t\t\t\t\t\t// if (template.for && !template.for.first || !template.for) {\r\n\t\t\t\t\t\t\ttemplate.data._template = template.if.target.innerHTML;\r\n\t\t\t\t\t\t\ttemplate.if.target.innerHTML = template.component.template;\r\n\t\t\t\t\t\t\trecursiveComponentElements = template.if.target.getElementsByTagName(template.component.name.toUpperCase());\r\n\t\t\t\t\t\t\tforEach(recursiveComponentElements,function(element){\r\n\t\t\t\t\t\t\t\tvar hasConditional = false,\r\n\t\t\t\t\t\t\t\t\tcurrentElement = element;\r\n\t\t\t\t\t\t\t\twhile (currentElement !== template.if.target && !hasConditional) {\r\n\t\t\t\t\t\t\t\t\thasConditional = currentElement.hasAttribute(\"dill-if\");\r\n\t\t\t\t\t\t\t\t\tcurrentElement = currentElement.parentNode;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (!hasConditional) {\r\n\t\t\t\t\t\t\t\t\tthrow new Error(\"Recursive element detected without conditional catch. To avoid infinite loop render was stopped.\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (template.data.hasOwnProperty(\"oninit\")) {\r\n\t\t\t\t\t\t\t\ttemplate.data.oninit();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}());\r\n\t\t\t\t}\r\n\t\t\t\t// if (template.for && !template.for.first || !template.for) {\r\n\t\t\t\t\ttemplate.if.target.childNodes && forEach(template.if.target.childNodes, function generateChildTemplates(child){\r\n\t\t\t\t\t\ttemplate.children.push(createDillTemplate(child, template.data, template.data._module, template));\r\n\t\t\t\t\t});\r\n\t\t\t\t// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t}());\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// console.log(\"New init: \", template);\r\n\t\t\trecurseComponent(template,\"oninit\");\r\n\t\t}\r\n\t\ttemplate.if.initial = true;\r\n\t\t// if (template.component) {\r\n\t\t// \ttemplate.data.onadd && template.data.onadd();\r\n\t\t// }\r\n\r\n\r\n\t\treturn \"added\";\r\n\t}\r\n\telse if (oldState === true && newState === false) {\r\n\t\tparent.removeChild(template.if.target);\r\n\t\t// if (template.component) {\r\n\t\t// \ttemplate.data.onremove && template.data.onremove();\r\n\t\t// }\r\n\r\n\t\trecurseComponent(template,\"onremove\");\r\n\r\n\t\ttemplate.if.initial = false;\r\n\t\treturn 0;\r\n\t}\r\n}\r\n","\r\nexport var recycleData = function(newData, oldData){\r\n\tvar item;\r\n\tfor (item in newData) {\r\n\t\tif (oldData.hasOwnProperty(item)) {\r\n\t\t\toldData[item] = newData[item];\r\n\t\t}\r\n\t\telse {\r\n\t\t\t(function(){\r\n\t\t\t\tvar _value;\r\n\t\t\t\tObject.defineProperty(oldData, item, {\r\n\t\t\t\t\tget: function(){\r\n\t\t\t\t\t\treturn _value;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset: function(value){\r\n\t\t\t\t\t\t_value = value;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\toldData[item] = newData[item];\r\n\t\t\t}());\r\n\t\t}\r\n\t}\r\n\tfor (item in oldData) {\r\n\t\tif (item.substr(0, 1) === \"_\") {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif (!newData.hasOwnProperty(item)) {\r\n\t\t\tdelete oldData[item];\r\n\t\t}\r\n\t}\r\n}\r\n","\r\nimport { createDillTemplate } from \"../template/create-template\";\r\nimport { renderTarget } from \"./render-target\";\r\nimport { createData } from \"../common/create-data\";\r\nimport { recycleData } from \"../common/recycle-data\";\r\nimport { recurseComponent } from \"../common/recurse-component\";\r\nimport { logger } from \"../common/logger.service\";\r\n\r\nexport var renderFor = function(target, template, condition){\r\n\tvar initialLength = template.for.initial.length;\r\n\tvar value = typeof template.data[template.for.value] === \"function\"\r\n\t\t? template.data[template.for.value]()\r\n\t\t: template.data[template.for.value];\r\n\r\n\tif (value === undefined) {\r\n\t\tlogger.error(\"Count not find \" + template.for.value + \" on current scope.\");\r\n\t\tthrow new Error(\"Count not find \" + template.for.value + \" on current scope.\");\r\n\t}\r\n\telse if (!(value instanceof Array)) {\r\n\t\tlogger.error(\"This property: \" + template.for.value + \" is not an Array and therefore not iterable in a dill-for\");\r\n\t\tthrow new Error(\"This property: \" + template.for.value + \" is not an Array and therefore not iterable in a dill-for\");\r\n\t}\r\n\r\n\tvar initial = template.for.initial;\r\n\tvar newLength = value.length;\r\n\tvar currentTarget = target;\r\n\tvar parent = template.for.parent;\r\n\tvar templates = template.for.templates;\r\n\tvar clone = function(){\r\n\t\treturn template.for.clone.cloneNode(true);\r\n\t}\r\n\tif (initialLength !== newLength) {\r\n\t\t(function(){\r\n\t\t\tif (initialLength > newLength) {\r\n\t\t\t\t(function(){\r\n\t\t\t\t\tvar i = 0;\r\n\t\t\t\t\tvar next;\r\n\t\t\t\t\twhile (i < newLength) {\r\n\t\t\t\t\t\tcurrentTarget = currentTarget.nextElementSibling;\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twhile (i < initialLength) {\r\n\t\t\t\t\t\tnext = currentTarget.nextElementSibling;\r\n\t\t\t\t\t\tparent.removeChild(currentTarget);\r\n\t\t\t\t\t\trecurseComponent(template,\"onremove\");\r\n\t\t\t\t\t\tcurrentTarget = next;\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}());\r\n\t\t\t}\r\n\t\t\tif (initialLength < newLength) {\r\n\t\t\t\t(function(){\r\n\t\t\t\t\tvar i = 0;\r\n\t\t\t\t\twhile (i < initialLength - 1) {\r\n\t\t\t\t\t\tcurrentTarget = currentTarget.nextElementSibling;\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (initialLength === 0) {\r\n\t\t\t\t\t\tif (currentTarget === undefined) {\r\n\t\t\t\t\t\t\tcurrentTarget = clone();\r\n\t\t\t\t\t\t\tparent.appendChild(currentTarget);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tparent.insertBefore(clone(), currentTarget);\r\n\t\t\t\t\t\t\tcurrentTarget = currentTarget.previousElementSibling;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar data = createData(value[0], template.data);\r\n\t\t\t\t\t\tdata._item = value[0];\r\n\t\t\t\t\t\tdata._index = 0;\r\n\t\t\t\t\t\t(function(){\r\n\t\t\t\t\t\t\tvar newTemplate = createDillTemplate(currentTarget, data, template.module, template);\r\n\t\t\t\t\t\t\ttemplates[0] = newTemplate;\r\n\t\t\t\t\t\t\trenderTarget(currentTarget, newTemplate, condition);\r\n\t\t\t\t\t\t}(0));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile (i < newLength - 1) {\r\n\t\t\t\t\t\tcurrentTarget.insertAdjacentElement(\"afterend\", clone());\r\n\t\t\t\t\t\tcurrentTarget = currentTarget.nextElementSibling;\r\n\t\t\t\t\t\t(function(){\r\n\t\t\t\t\t\t\tvar j = i + 1;\r\n\t\t\t\t\t\t\tvar data = createData(value[j], template.data);\r\n\t\t\t\t\t\t\tdata._item = value[j];\r\n\t\t\t\t\t\t\tdata._index = j;\r\n\t\t\t\t\t\t\tvar newTemplate = createDillTemplate(currentTarget, data, template.module, template);\r\n\t\t\t\t\t\t\ttemplates[j] = newTemplate;\r\n\t\t\t\t\t\t\trenderTarget(currentTarget, newTemplate, condition);\r\n\t\t\t\t\t\t}());\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}());\r\n\t\t\t}\r\n\t\t}());\r\n\t}\r\n\r\n\t(function(){\r\n\t\tvar i = 0;\r\n\t\tvar next;\r\n\t\tcurrentTarget = target;\r\n\t\twhile (i < (initialLength < newLength ? initialLength : newLength)) {\r\n\t\t\tif (value[i] === initial[i]) {\r\n\t\t\t\tif (typeof value[i] === \"object\") {\r\n\t\t\t\t\trecycleData(value[i], templates[i].data);\r\n\t\t\t\t}\r\n\t\t\t\trenderTarget(currentTarget, templates[i], condition);\r\n\t\t\t\tcurrentTarget = currentTarget.nextElementSibling;\r\n\t\t\t\ti++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tnext = currentTarget.nextSibling;\r\n\t\t\tparent.removeChild(currentTarget);\r\n\t\t\trecurseComponent(template,\"onremove\");\r\n\t\t\tif (next === null) {\r\n\t\t\t\tparent.appendChild(clone());\r\n\t\t\t\tcurrentTarget = parent.children[parent.children.length - 1];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tparent.insertBefore(clone(), next);\r\n\t\t\t\tcurrentTarget = next.previousElementSibling;\r\n\t\t\t}\r\n\t\t\t(function(){\r\n\t\t\t\tvar data = createData(value[i], template.data);\r\n\t\t\t\tdata._item = value[i];\r\n\t\t\t\tdata._index = i;\r\n\t\t\t\tvar newTemplate = createDillTemplate(currentTarget, data, template.module, template);\r\n\t\t\t\ttemplates[i] = newTemplate;\r\n\t\t\t\trenderTarget(currentTarget, newTemplate, condition);\r\n\t\t\t}());\r\n\t\t\tcurrentTarget = currentTarget.nextElementSibling;\r\n\t\t\ti++;\r\n\t\t}\r\n\t}());\r\n\ttemplate.for.initial = value.map(function(x){\r\n\t\treturn x;\r\n\t});\r\n\treturn newLength;\r\n}\r\n","\r\nexport const Options = function(options){\r\n\tif (options === undefined) {\r\n\t\treturn;\r\n\t}\r\n\tvar possibleOptions = [\r\n\t\t{\r\n\t\t\tname: \"noIf\",\r\n\t\t\ttype: \"bool\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"noFor\",\r\n\t\t\ttype: \"bool\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"parent\",\r\n\t\t\ttype: \"object\"\r\n\t\t}\r\n\t];\r\n\tObject.keys(options).forEach(function(key){\r\n\t\tvar find = possibleOptions.filter(function(x){\r\n\t\t\treturn x.name === key;\r\n\t\t});\r\n\t\tvar output = options[key];\r\n\t\tif (find.length !== 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (options[key]) {\r\n\t\t\tthis[key] = find[0].type === \"bool\"\r\n\t\t\t\t? !!output\r\n\t\t\t\t: output;\r\n\t\t}\r\n\t}.bind(this));\r\n}\r\n","\r\nimport { forEach } from \"../common/for-each\";\r\nimport { debracer } from \"../common/debracer\";\r\nimport { renderAttributes } from \"./render-attributes\";\r\nimport { renderIf } from \"./render-if\";\r\nimport { renderFor } from \"./render-for\";\r\nimport { Options } from \"../classes/Options.class\";\r\nimport { DillComponent } from \"../classes/DillComponent.class\";\r\n\r\nvar renderTextNode = function(\r\n\ttargetElement,\r\n\tdillTemplate\r\n){\r\n\tvar value = targetElement.nodeValue,\r\n\t\tnewValue = debracer(dillTemplate.value, dillTemplate.data);\r\n\r\n\tif (value === newValue) {\r\n\t\treturn;\r\n\t}\r\n\r\n\ttargetElement.nodeValue = newValue;\r\n}\r\n\r\n// The condition argument is OPTIONAL and can either be a HTML element or a component constructor function.\r\nexport var renderTarget = function(\r\n\ttargetElement,\r\n\tdillTemplate,\r\n\tcondition,\r\n\toptions\r\n){\r\n\tvar name = dillTemplate.name,\r\n\t\tifReturns,\r\n\t\tforReturns,\r\n\t\tconditionIsMet = typeof condition === \"boolean\"\r\n\t\t\t? condition\r\n\t\t\t: false,\r\n\t\tmakeConditionTrue = function(){\r\n\t\t\tcondition = true;\r\n\t\t\tconditionIsMet = true;\r\n\t\t};\r\n\r\n\tif (!(options instanceof Options)) {\r\n\t\toptions = new Options();\r\n\t}\r\n\r\n// In order to render this element and its child nodes the condition must be -> true\r\n// If the condition is not true then it will become true if the condition matches the element passed into the render\r\n// OR if the current component (stored on the dill template) is the current condition.\r\n\tif (typeof condition !== \"boolean\") {\r\n\t\tif (condition instanceof Element && condition === targetElement) {\r\n\t\t\tmakeConditionTrue();\r\n\t\t}\r\n\t\telse if (\r\n\t\t\t!(condition instanceof Element)\r\n\t\t\t\t&& condition instanceof Object\r\n\t\t\t\t&& dillTemplate.component instanceof DillComponent\r\n\t\t\t\t&& dillTemplate.component.baseData instanceof condition\r\n\t\t) {\r\n\t\t\tmakeConditionTrue();\r\n\t\t}\r\n\t}\r\n\r\n\tif (name === \"#comment\" || name === \"SCRIPT\") {\r\n\t\treturn 1;\r\n\t}\r\n\r\n\tif (name === \"#text\") {\r\n\t\tif (conditionIsMet === true) {\r\n\t\t\trenderTextNode(targetElement, dillTemplate);\r\n\t\t}\r\n\t\treturn 1;\r\n\t}\r\n\r\n\tif (conditionIsMet === true) {\r\n\t\tif (!options.noIf && dillTemplate.hasOwnProperty(\"if\")) {\r\n\t\t\tifReturns = renderIf(targetElement, dillTemplate);\r\n\t\t\tif (ifReturns === \"added\") {\r\n\t\t\t\t(function(){\r\n\t\t\t\t\tvar childs = options\r\n\t\t\t\t\t\t&& options.parent\r\n\t\t\t\t\t\t&& options.parent.childNodes;\r\n\t\t\t\t\trenderTarget(\r\n\t\t\t\t\t\ttargetElement === undefined\r\n\t\t\t\t\t\t\t? childs[childs.length - 1]\r\n\t\t\t\t\t\t\t: targetElement.previousElementSibling,\r\n\t\t\t\t\t\tdillTemplate,\r\n\t\t\t\t\t\tcondition,\r\n\t\t\t\t\t\tnew Options({noIf: true})\r\n\t\t\t\t\t);\r\n\t\t\t\t}());\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\tif (ifReturns === 0) {\r\n\t\t\t\treturn ifReturns;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!options.noFor && dillTemplate.hasOwnProperty(\"for\")) {\r\n\t\t\tforReturns = renderFor(targetElement, dillTemplate, condition);\r\n\t\t\tif (typeof forReturns ===  \"number\") {\r\n\t\t\t\treturn forReturns;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trenderAttributes(targetElement, dillTemplate);\r\n\t}\r\n\r\n\t(function(){\r\n\t\tvar index = 0;\r\n\t\tforEach(dillTemplate.children, function(_template, i){\r\n\t\t\tif (targetElement === undefined) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar child = targetElement.childNodes[index];\r\n\t\t\tvar output = renderTarget(\r\n\t\t\t\tchild,\r\n\t\t\t\t_template,\r\n\t\t\t\tcondition,\r\n\t\t\t\tchild === undefined\r\n\t\t\t\t\t? new Options({parent:targetElement})\r\n\t\t\t\t\t: undefined\r\n\t\t\t);\r\n\t\t\tindex += output;\r\n\t\t});\r\n\t}());\r\n\r\n\treturn 1;\r\n}\r\n","\r\nimport { forEach } from \"../common/for-each\";\r\nimport { renders } from \"./renders\";\r\nimport { renderTarget } from \"../render/render-target\";\r\nimport { Render } from \"../classes/Render.class\";\r\n\r\nexport var change = function(targetElement){\r\n\tforEach(renders, function(render){\r\n\t\tif (!(render instanceof Render)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\trenderTarget(\r\n\t\t\trender.targetElement,\r\n\t\t\trender.dillTemplate,\r\n\t\t\ttargetElement || true\r\n\t\t);\r\n\t});\r\n};\r\n","\r\nimport { Module } from \"../classes/Module.class\";\r\nimport { Render } from \"../classes/Render.class\";\r\nimport { renders } from \"./renders\";\r\nimport { change } from \"./change\";\r\nimport { createDillTemplate } from \"../template/create-template\";\r\nimport { createData } from \"../common/create-data\";\r\nimport { logger } from \"../common/logger.service\";\r\n\r\nexport var render = function(\r\n\ttargetElement,\r\n\tInitialDataConstructor,\r\n\tdillModule\r\n){\r\n\r\n\tif (!(dillModule instanceof Module)) {\r\n\t\tlogger.error(\"You must pass a Dill Module instance.\");\r\n\t\tthrow new Error(\"You must pass a Dill Module instance.\");\r\n\t}\r\n\r\n\tif (typeof InitialDataConstructor !== \"function\") {\r\n\t\tlogger.error(\"You must pass a constructor function as the original Data.\");\r\n\t\tthrow new Error(\"You must pass a constructor function as the original Data.\");\r\n\t}\r\n\r\n\tif (!(targetElement instanceof Element)) {\r\n\t\tlogger.error(\"You must pass a HTML element as the target.\");\r\n\t\tthrow new Error(\"You must pass a HTML element as the target.\");\r\n\t}\r\n\r\n\tvar data = createData(new InitialDataConstructor(), null);\r\n\r\n// Expose the Dill Module on the model. This allows the developer to access the current Dill Module without having to pass it through by other means.\r\n\tdata._module = dillModule;\r\n\r\n// Begin templating the root element.\r\n\tvar dillTemplate = createDillTemplate(targetElement, data, dillModule);\r\n\r\n// OnInit lifecycle method. This runs after templating the root element.\r\n\tdata.oninit && data.oninit();\r\n\r\n\trenders.push(\r\n\t\tnew Render(targetElement, dillTemplate)\r\n\t);\r\n\r\n// This function runs the whole dill operation.\r\n\tchange();\r\n\r\n\treturn data;\r\n}\r\n","\r\nimport { renders } from \"./renders\";\r\n\r\nexport const reset = function(){\r\n\trenders.length = 0;\r\n}\r\n","\r\nimport { render } from \"./main/render\";\r\nimport { change } from \"./main/change\";\r\nimport { reset } from \"./main/reset\";\r\nimport { dillModule } from \"./classes/Module.class\";\r\nimport { ComponentPrototype } from \"./classes/ComponentPrototype.class\";\r\n\r\nvar _dill = {\r\n\trender: render,\r\n\tchange: change,\r\n\tmodule: dillModule,\r\n\tComponentPrototype: ComponentPrototype,\r\n\treset: reset\r\n}\r\n\r\n// OPTIONAL: Set dill to be on the window object. This allows the script to be added to the main HTML file and referenced globally.\r\nwindow.dill = _dill;\r\n\r\n// OPTIONAL: Add an export for module loaders. This allows the script to be consumed by an app being built so that the app can be bundled into a single JavaScript file.\r\n// export var dill = _dill;\r\n"],"names":["Module"],"mappings":"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"}